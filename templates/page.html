{% extends 'base.html' %}

{% block title %}{{ page.title }}{% endblock %}

{% block body %}
<div class="demo-blog demo-blog--blogpost mdl-layout mdl-js-layout has-drawer is-upgraded">
    <main class="mdl-layout__content">
        <div class="demo-back">
            <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" href="/" title="go back"
               role="button">
                <i class="material-icons" role="presentation">arrow_back</i>
            </a>
        </div>
        {% if not form %}
        <div class="demo-blog__posts mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">
                <div class="mdl-card__media mdl-color-text--grey-50">
                    <h3>{{ page.header }}</h3>
                </div>
                <div class="mdl-color-text--grey-700 mdl-card__supporting-text">
                    <p>
                        {{ page.text }}
                    </p>
                </div>
            </div>
        </div>
        {% if footer %}
            {% include 'footer.html' %}
        {% endif %}
        {% else %}
        <div class="demo-blog__posts mdl-grid">
            <div class="mdl-card mdl-shadow--6dp mdl-cell mdl-cell--12-col">
                <div class="mdl-card__title mdl-color--primary mdl-color-text--white">
                    <h2 class="mdl-card__title-text">{{ page.header }}</h2>
                </div>

                <div class="mdl-card__supporting-text">
                    <form role="form" method="POST">
                        {{ form.csrf_token }}
                        {{ login_error }}
                        <div class="mdl-textfield mdl-js-textfield">
                            {{ form.username(class="mdl-textfield__input") }}
                            {{ form.username.label(class="mdl-textfield__label") }}

                            {% for usrerror in form.username.errors %}
                            <span class="mdl-textfield__error" style="visibility:visible;">
                                *{{ usrerror }}
                            </span>
                            {% endfor %}

                        </div>
                        <div class="mdl-textfield mdl-js-textfield">
                            {{ form.password(class="mdl-textfield__input") }}
                            {{ form.password.label(class="mdl-textfield__label") }}

                            {% for passerror in form.password.errors %}
                            <span class="mdl-textfield__error" style="visibility:visible;">
                                *{{ passerror }}
                            </span>
                            {% endfor %}

                        </div>
                        <div class="mdl-card__actions">
                            {{ form.submit(class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect") }}
                        </div>
                    </form>
                </div>
            </div>
        </div>
        {% endif %}
    </main>
    <div class="mdl-layout__obfuscator"></div>
</div>

<script src="https://code.getmdl.io/1.3.0/material.min.js"></script>
{{ js_body_end }}
{% endblock %}
